---
id: RFC3884
title:
- content: Use of IPsec Transport Mode for Dynamic Routing
  format: text/plain
  type: main
link:
- content: https://www.rfc-editor.org/info/rfc3884
  type: src
type: standard
docid:
- id: RFC 3884
  type: IETF
  primary: true
- id: 10.17487/RFC3884
  type: DOI
docnumber: RFC3884
date:
- type: published
  value: 2004-09
contributor:
- person:
    name:
      given:
        forename:
        - language:
          - en
          script:
          - Latn
          initial: J
        formatted_initials:
          content: J.
          language:
          - en
          script:
          - Latn
      surname:
        content: Touch
        language:
        - en
        script:
        - Latn
      completename:
        content: J. Touch
        language:
        - en
        script:
        - Latn
  role:
  - type: author
- person:
    name:
      given:
        forename:
        - language:
          - en
          script:
          - Latn
          initial: L
        formatted_initials:
          content: L.
          language:
          - en
          script:
          - Latn
      surname:
        content: Eggert
        language:
        - en
        script:
        - Latn
      completename:
        content: L. Eggert
        language:
        - en
        script:
        - Latn
  role:
  - type: author
- person:
    name:
      given:
        forename:
        - language:
          - en
          script:
          - Latn
          initial: Y
        formatted_initials:
          content: Y.
          language:
          - en
          script:
          - Latn
      surname:
        content: Wang
        language:
        - en
        script:
        - Latn
      completename:
        content: Y. Wang
        language:
        - en
        script:
        - Latn
  role:
  - type: author
- organization:
    name:
    - content: RFC Series
  role:
  - type: authorizer
revdate: 2004-09
language:
- en
script:
- Latn
abstract:
- content: "<p>IPsec can secure the links of a multihop network to protect communication
    between trusted components, e.g., for a secure virtual network (VN), overlay,
    or virtual private network (VPN).  Virtual links established by IPsec tunnel mode
    can conflict with routing and forwarding inside VNs because IP routing depends
    on references to interfaces and next-hop IP addresses.  The IPsec tunnel mode
    specification is ambiguous on this issue, so even compliant implementations cannot
    be trusted to avoid conflicts.  An alternative to tunnel mode uses non-IPsec IPIP
    encapsulation together with IPsec transport mode, which we call IIPtran.  IPIP
    encapsulation occurs as a separate initial step, as the result of a forwarding
    lookup of the VN packet.  IPsec transport mode processes the resulting (tunneled)
    IP packet with an SA determined through a security association database (SAD)
    match on the tunnel header.  IIPtran supports dynamic routing inside the VN without
    changes to the current IPsec architecture.  IIPtran demonstrates how to configure
    any compliant IPsec implementation to avoid the aforementioned conflicts.  IIPtran
    is also compared to several alternative mechanisms for VN routing and their respective
    impact on IPsec, routing, policy enforcement, and interactions with the Internet
    Key Exchange (IKE).  This memo provides information for the Internet community.</p>"
  language:
  - en
  script:
  - Latn
  format: text/html
series:
- title:
    content: RFC
    format: text/plain
  number: '3884'
